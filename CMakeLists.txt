CMAKE_MINIMUM_REQUIRED ( VERSION 3.15 )

PROJECT (KIRARAY)

SET (CMAKE_EXPORT_COMPILE_COMMANDS ON)

SET (CMAKE_CXX_STANDARD 17)

add_subdirectory(src/ext)

SET ( KRR_CORE_SOURCE
	src/core/light.cpp
)

SET ( KRR_CORE_HEADERS
	src/core/kiraray.h
)

FILE ( GLOB KRR_SOURCE
	src/ext/*
)

INCLUDE_DIRECTORIES ( 
	src 
	src/core
	${ASSIMP_INCLUDE_DIRS}
	${ENOKI_INCLUDE_DIRS}
)

ADD_LIBRARY ( krr STATIC
	${KRR_CORE_SOURCE}
	${KRR_CORE_HEADERS}
	${KRR_SOURCE}
)

SET(ALL_KRR_LIBS
	krr
	assimp
)

ADD_EXECUTABLE ( kiraray src/main/kiraray.cpp )

TARGET_LINK_LIBRARIES (kiraray ${ALL_KRR_LIBS})