CMAKE_MINIMUM_REQUIRED ( VERSION 3.10.0 )

PROJECT (KIRARAY)

SET (CMAKE_EXPORT_COMPILE_COMMANDS ON)

SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++17")

add_subdirectory(src/ext)

SET ( KRR_CORE_SOURCE
	src/core/light.cpp
)

SET ( KRR_CORE_HEADERS
	src/core/kiraray.h
)

FILE ( GLOB KRR_SOURCE
	src/ext/*
)

INCLUDE_DIRECTORIES ( src )
INCLUDE_DIRECTORIES ( src/core )

ADD_LIBRARY ( krr STATIC
	${KRR_CORE_SOURCE}
	${KRR_CORE_HEADERS}
	${KRR_SOURCE}
)
SET_TARGET_PROPERTIES (krr PROPERTIES LINKER_LANGUAGE CXX)

SET(ALL_KRR_LIBS
	krr
	assimp
)

ADD_EXECUTABLE ( kiraray src/main/kiraray.cpp )

TARGET_LINK_LIBRARIES (kiraray ${ALL_KRR_LIBS})