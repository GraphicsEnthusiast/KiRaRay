SET (CMAKE_POLICY_DEFAULT_CMP0077 NEW)
STRING (REGEX REPLACE "/W[3|4]" "" CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")

# Assimp
SET(BUILD_SHARED_LIBS OFF)
SET(ASSIMP_BUILD_TESTS OFF)
SET(ASSIMP_NO_EXPORT ON)
SET(ASSIMP_BUILD_ASSIMP_TOOLS OFF)
# specify enabled importers for speed
SET(ASSIMP_BUILD_ALL_IMPORTERS_BY_DEFAULT OFF)
SET(ASSIMP_BUILD_OBJ_IMPORTER ON)
SET(ASSIMP_BUILD_FBX_IMPORTER ON)
SET(ASSIMP_BUILD_GLTF_IMPORTER ON)
ADD_SUBDIRECTORY(assimp)
INCLUDE_DIRECTORIES(assimp/include)
SET(ASSIMP_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/assimp/include PARENT_SCOPE)

# Enoki (Currently disabled)
# ADD_SUBDIRECTORY(enoki)
# INCLUDE_DIRECTORIES(enoki/include)
# SET(ENOKI_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/enoki/include PARENT_SCOPE)
# enoki_set_compile_flags()
# enoki_set_native_flags()

# Optix Wrapper Lib
SET(OWL_BUILD_SAMPLES OFF)
SET(OWL_BUILD_ADVANCED_TESTS OFF)
SET(OWL_BUILDING_ALL_SAMPLES OFF)
ADD_SUBDIRECTORY(owl EXCLUDE_FROM_ALL)
INCLUDE_DIRECTORIES(owl/owl/include)
SET(OWL_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/owl/owl/include PARENT_SCOPE)